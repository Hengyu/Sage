<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Sage  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="Sage  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Sage Docs
        </a>
         (100% documented)
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/nvzqz/Sage">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Sage Reference</a>
      <img class="carat" src="img/carat.png" />
      Sage  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Game.html">Game</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Game/Outcome.html">– Outcome</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Game/Position.html">– Position</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Game/ExecutionError.html">– ExecutionError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Color.html">Color</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/File.html">File</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/File/Direction.html">– Direction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Rank.html">Rank</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Rank/Direction.html">– Direction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Square.html">Square</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Variant.html">Variant</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Sequence.html">Sequence</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi1aFTVS_8BitboardS0__S0_">&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi1lFTOS_4RankS0__Sb">&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi1lFTOS_4FileS0__Sb">&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2llFTVS_8BitboardS0__S0_">&lt;&lt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi3lleFTRVS_8BitboardS0__T_">&lt;&lt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVCS_4Game8PositionS1__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVS_14CastlingRightsS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVS_4MoveS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVS_5PieceS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVS_3PGNS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTOCS_4Game7OutcomeS1__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVS_5BoardS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVVS_5Board5SpaceS1__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2eeFTVS_6PlayerS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi2ggFTVS_8BitboardS0__S0_">&gt;&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi3ggeFTRVS_8BitboardS0__T_">&gt;&gt;=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi3gggFTOS_6SquareS0__VS_4Move">&gt;&gt;&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi3gggFTT4fileOS_4File4rankOS_4Rank_T4fileS0_4rankS1___VS_4Move">&gt;&gt;&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi1xFTVS_8BitboardS0__S0_">^(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageoi1oFTVS_8BitboardS0__S0_">|(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:ZF4Sageop1tFVS_8BitboardS0_">~(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Bitboard.html">Bitboard</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Bitboard/ShiftDirection.html">– ShiftDirection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Bitboard/Iterator.html">– Iterator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Board.html">Board</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Board/Space.html">– Space</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Board/Iterator.html">– Iterator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Board/Side.html">– Side</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CastlingRights.html">CastlingRights</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CastlingRights/Right.html">– Right</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CastlingRights/Iterator.html">– Iterator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Move.html">Move</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PGN.html">PGN</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PGN/Tag.html">– Tag</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PGN/ParseError.html">– ParseError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Piece.html">Piece</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Piece/Kind.html">– Kind</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Player.html">Player</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Player/Kind.html">– Kind</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:4Sage8Location">Location</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p><a href="https://github.com/nvzqz/Sage"><img src="https://raw.githubusercontent.com/nvzqz/Sage/assets/Banner.png" alt="Sage"></a></p>

<p align="center">
<a href="https://developer.apple.com/swift/"><img alt="Swift 2.2 | 3.0" src="https://img.shields.io/badge/swift-2.2%20%7C%203.0-orange.svg"></a>
<img alt="Platforms" src="https://img.shields.io/badge/platform-ios%20%7C%20macos%20%7C%20watchos%20%7C%20tvos%20%7C%20linux-lightgrey.svg">
<a href="https://www.apache.org/licenses/LICENSE-2.0"><img alt="Apache 2.0 License" src="https://img.shields.io/badge/license-Apache%202.0-000000.svg"></a>
</p>

<p align="center">
<a href="https://cocoapods.org/pods/Sage"><img alt="CocoaPods" src="https://img.shields.io/cocoapods/v/Sage.svg"></a>
<a href="https://github.com/Carthage/Carthage"><img alt="Carthage" src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat"></a>
<a href="https://swift.org/package-manager/"><img alt="Swift Package Manager" src="https://img.shields.io/badge/SPM-compatible-orange.svg"></a>
</p>

<p>Sage is a cross-platform chess library for Swift.</p>

<p>Development happens in the <a href="https://github.com/nvzqz/Sage/tree/develop"><code>develop</code></a> branch.</p>

<ul>
<li><a href="#build-status">Build Status</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a>

<ul>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#install-using-swift-package-manager">Swift Package Manager</a></li>
<li><a href="#install-using-cocoapods">CocoaPods</a></li>
<li><a href="#install-using-carthage">Carthage</a></li>
<li><a href="#install-manually">Manually</a></li>
</ul></li>
<li><a href="#usage">Usage</a>

<ul>
<li><a href="#game-management">Game Management</a></li>
<li><a href="#move-generation">Move Generation</a></li>
<li><a href="#move-validation">Move Validation</a></li>
<li><a href="#undo-and-redo-moves">Undo and Redo Moves</a></li>
<li><a href="#promotion-handling">Promotion Handling</a></li>
<li><a href="#pretty-printing">Pretty Printing</a></li>
<li><a href="#forsythedwards-notation">Forsyth–Edwards Notation</a></li>
<li><a href="#iterating-through-a-board">Iterating Through a Board</a></li>
<li><a href="#squares-to-moves">Squares to Moves</a></li>
<li><a href="#playground-usage">Playground Usage</a>

<ul>
<li><a href="#board-quick-look">Board Quick Look</a></li>
</ul></li>
</ul></li>
<li><a href="#license">License</a></li>
</ul>
<a href='#build-status' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='build-status'>Build Status</h2>

<table><thead>
<tr>
<th style="text-align: center">Branch</th>
<th style="text-align: center">Status</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><code>master</code></td>
<td style="text-align: center"><a href="https://travis-ci.org/nvzqz/Sage"><img alt="Build Status" src="https://travis-ci.org/nvzqz/Sage.svg?branch=master"></a></td>
</tr>
<tr>
<td style="text-align: center"><code>develop</code></td>
<td style="text-align: center"><a href="https://travis-ci.org/nvzqz/Sage"><img alt="Build Status" src="https://travis-ci.org/nvzqz/Sage.svg?branch=develop"></a></td>
</tr>
</tbody></table>
<a href='#features' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='features'>Features</h2>

<ul>
<li>[x] Chess game management</li>
<li>[x] Chess board structuring</li>
<li>[x] Move generation / validation</li>
<li>[x] En passant and castling</li>
<li>[x] Pawn promotions</li>
<li>[x] FEN for games and boards</li>
<li>[x] PGN parsing and exporting</li>
<li>[x] <a href="https://nvzqz.github.io/Sage/docs/">Documentation</a></li>
</ul>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='installation'>Installation</h2>
<a href='#compatibility' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='compatibility'>Compatibility</h3>

<ul>
<li>Platforms:

<ul>
<li>macOS 10.9+</li>
<li>iOS 8.0+</li>
<li>watchOS 2.0+</li>
<li>tvOS 9.0+</li>
<li>Linux</li>
</ul></li>
<li>Xcode 7.3 and 8.0</li>
<li>Swift 2.2 and 3.0</li>
</ul>
<a href='#install-using-swift-package-manager' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='install-using-swift-package-manager'>Install Using Swift Package Manager</h3>

<p>The <a href="https://swift.org/package-manager/">Swift Package Manager</a> is a
decentralized dependency manager for Swift.</p>

<ol>
<li><p>Add the project to your <code>Package.swift</code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"MyAwesomeProject"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="kt">Package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/nvzqz/Sage.git"</span><span class="p">,</span>
                 <span class="nv">majorVersion</span><span class="p">:</span> <span class="mi">2</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></li>
<li><p>Import the Sage module.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Sage</span>
</code></pre></li>
</ol>
<a href='#install-using-cocoapods' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='install-using-cocoapods'>Install Using CocoaPods</h3>

<p><a href="https://cocoapods.org/">CocoaPods</a> is a centralized dependency manager for
Objective-C and Swift. Go <a href="https://guides.cocoapods.org/using/index.html">here</a>
to learn more.</p>

<ol>
<li><p>Add the project to your <a href="https://guides.cocoapods.org/using/the-podfile.html">Podfile</a>.</p>
<pre class="highlight ruby"><code><span class="n">use_frameworks!</span>

<span class="n">pod</span> <span class="s1">'Sage'</span><span class="p">,</span> <span class="s1">'~&gt; 2.0.0'</span>
</code></pre>

<p>If you want to be on the bleeding edge, replace the last line with:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'Sage'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/nvzqz/Sage.git'</span>
</code></pre></li>
<li><p>Run <code>pod install</code> and open the <code>.xcworkspace</code> file to launch Xcode.</p></li>
<li><p>Import the Sage framework.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Sage</span>
</code></pre></li>
</ol>
<a href='#install-using-carthage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='install-using-carthage'>Install Using Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency
manager for Objective-C and Swift.</p>

<ol>
<li><p>Add the project to your <a href="https://github.com/Carthage/Carthage/blob/master/Documentation/Artifacts.md#cartfile">Cartfile</a>.</p>
<pre class="highlight plaintext"><code>github "nvzqz/Sage"
</code></pre></li>
<li><p>Run <code>carthage update</code> and follow <a href="https://github.com/Carthage/Carthage#getting-started">the additional steps</a>
in order to add Sage to your project.</p></li>
<li><p>Import the Sage framework.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Sage</span>
</code></pre></li>
</ol>
<a href='#install-manually' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='install-manually'>Install Manually</h3>

<ol>
<li><p>Download and drop the <code>/Sources</code> folder into your project.</p></li>
<li><p>Congratulations!</p></li>
</ol>
<a href='#usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='usage'>Usage</h2>
<a href='#game-management' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='game-management'>Game Management</h3>

<p>Running a chess game can be as simple as setting up a loop.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Sage</span>

<span class="k">let</span> <span class="nv">game</span> <span class="o">=</span> <span class="kt">Game</span><span class="p">()</span>

<span class="k">while</span> <span class="o">!</span><span class="n">game</span><span class="o">.</span><span class="n">isFinished</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">move</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">try</span> <span class="n">game</span><span class="o">.</span><span class="nf">execute</span><span class="p">(</span><span class="nv">move</span><span class="p">:</span> <span class="n">move</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<a href='#move-generation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='move-generation'>Move Generation</h3>

<p>Sage is capable of generating legal moves for the current player with full
support for special moves such as en passant and castling.</p>

<ul>
<li><p><code>availableMoves()</code> will return all moves currently available.</p></li>
<li><p><code>movesForPiece(at:)</code> will return all moves for a piece at a square.</p></li>
<li><p><code>movesBitboardForPiece(at:)</code> will return a <code>Bitboard</code> containing all of the
squares a piece at a square can move to.</p></li>
</ul>
<a href='#move-validation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='move-validation'>Move Validation</h3>

<p>Sage can also validate whether a move is legal with the <code>isLegal(move:)</code>
method for a <code>Game</code> state.</p>

<p>The <code>execute(move:)</code> family of methods calls this method, so it would be faster
to execute the move directly and catch any error from an illegal move.</p>
<a href='#undo-and-redo-moves' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='undo-and-redo-moves'>Undo and Redo Moves</h3>

<p>Move undo and redo operations are done with the <code>undoMove()</code> and <code>redoMove()</code>
methods. The undone or redone move is returned.</p>

<p>To just check what moves are to be undone or redone, the <code>moveToUndo()</code> and
<code>moveToRedo()</code> methods are available.</p>
<a href='#promotion-handling' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='promotion-handling'>Promotion Handling</h3>

<p>The <code>execute(move:promotion:)</code> method takes a closure that returns a promotion
piece kind. This allows for the app to prompt the user for a promotion piece or
perform any other operations before choosing a promotion piece kind.</p>
<pre class="highlight swift"><code><span class="k">try</span> <span class="n">game</span><span class="o">.</span><span class="nf">execute</span><span class="p">(</span><span class="nv">move</span><span class="p">:</span> <span class="n">move</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="o">.</span><span class="n">queen</span>
<span class="p">}</span>
</code></pre>

<p>The closure is only executed if the move is a pawn promotion. An error is thrown
if the promotion piece kind cannot promote a pawn, such as with a king or pawn.</p>

<p>A piece kind can also be given without a closure. The default is a queen.</p>
<pre class="highlight swift"><code><span class="k">try</span> <span class="n">game</span><span class="o">.</span><span class="nf">execute</span><span class="p">(</span><span class="nv">move</span><span class="p">:</span> <span class="n">move</span><span class="p">,</span> <span class="nv">promotion</span><span class="p">:</span> <span class="o">.</span><span class="n">queen</span><span class="p">)</span>
</code></pre>
<a href='#pretty-printing' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='pretty-printing'>Pretty Printing</h3>

<p>The <code>Board</code> and <code>Bitboard</code> types both have an <code>ascii</code> property that can be used
to print a visual board.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">board</span> <span class="o">=</span> <span class="kt">Board</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="k">as</span><span class="n">cii</span><span class="p">)</span>
<span class="c1">//   +-----------------+</span>
<span class="c1">// 8 | r n b q k b n r |</span>
<span class="c1">// 7 | p p p p p p p p |</span>
<span class="c1">// 6 | . . . . . . . . |</span>
<span class="c1">// 5 | . . . . . . . . |</span>
<span class="c1">// 4 | . . . . . . . . |</span>
<span class="c1">// 3 | . . . . . . . . |</span>
<span class="c1">// 2 | P P P P P P P P |</span>
<span class="c1">// 1 | R N B Q K B N R |</span>
<span class="c1">//   +-----------------+</span>
<span class="c1">//     a b c d e f g h</span>

<span class="nf">print</span><span class="p">(</span><span class="n">board</span><span class="o">.</span><span class="n">occupiedSpaces</span><span class="o">.</span><span class="k">as</span><span class="n">cii</span><span class="p">)</span>
<span class="c1">//   +-----------------+</span>
<span class="c1">// 8 | 1 1 1 1 1 1 1 1 |</span>
<span class="c1">// 7 | 1 1 1 1 1 1 1 1 |</span>
<span class="c1">// 6 | . . . . . . . . |</span>
<span class="c1">// 5 | . . . . . . . . |</span>
<span class="c1">// 4 | . . . . . . . . |</span>
<span class="c1">// 3 | . . . . . . . . |</span>
<span class="c1">// 2 | 1 1 1 1 1 1 1 1 |</span>
<span class="c1">// 1 | 1 1 1 1 1 1 1 1 |</span>
<span class="c1">//   +-----------------+</span>
<span class="c1">//     a b c d e f g h</span>
</code></pre>
<a href='#forsyth-edwards-notation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='forsyth-edwards-notation'>Forsyth–Edwards Notation</h3>

<p>The <code>Game.Position</code> and <code>Board</code> types can both generate a FEN string.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">game</span> <span class="o">=</span> <span class="kt">Game</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="n">game</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="nf">fen</span><span class="p">())</span>
<span class="c1">// rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1</span>

<span class="nf">print</span><span class="p">(</span><span class="n">game</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="nf">fen</span><span class="p">())</span>
<span class="c1">// rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR</span>
</code></pre>

<p>They can also be initialized from a FEN string.</p>
<pre class="highlight swift"><code><span class="nf">assert</span><span class="p">(</span><span class="kt">Board</span><span class="p">(</span><span class="nv">fen</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="nf">fen</span><span class="p">())</span> <span class="o">==</span> <span class="n">game</span><span class="o">.</span><span class="n">board</span><span class="p">)</span>

<span class="nf">assert</span><span class="p">(</span><span class="kt">Game</span><span class="o">.</span><span class="kt">Position</span><span class="p">(</span><span class="nv">fen</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="nf">fen</span><span class="p">())</span> <span class="o">==</span> <span class="n">game</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
</code></pre>
<a href='#iterating-through-a-board' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='iterating-through-a-board'>Iterating Through a Board</h3>

<p>The <code>Board</code> type conforms to <code>Sequence</code>, making iterating through its spaces
seamless.</p>
<pre class="highlight swift"><code><span class="k">for</span> <span class="n">space</span> <span class="k">in</span> <span class="kt">Board</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">piece</span> <span class="o">=</span> <span class="n">space</span><span class="o">.</span><span class="n">piece</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">piece</span><span class="se">)</span><span class="s"> at </span><span class="se">\(</span><span class="n">space</span><span class="o">.</span><span class="n">square</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<a href='#squares-to-moves' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='squares-to-moves'>Squares to Moves</h3>

<p><code>Sequence</code> and <code>Square</code> have two methods that return an array of moves that go
from/to <code>self</code> to/from the parameter.</p>
<pre class="highlight swift"><code><span class="nf">print</span><span class="p">([</span><span class="o">.</span><span class="n">a1</span><span class="p">,</span> <span class="o">.</span><span class="n">h3</span><span class="p">,</span> <span class="o">.</span><span class="n">b5</span><span class="p">]</span><span class="o">.</span><span class="nf">moves</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="o">.</span><span class="n">b4</span><span class="p">))</span>
<span class="c1">// [b4 &gt;&gt;&gt; a1, b4 &gt;&gt;&gt; h3, b4 &gt;&gt;&gt; b5]</span>

<span class="nf">print</span><span class="p">([</span><span class="o">.</span><span class="n">c3</span><span class="p">,</span> <span class="o">.</span><span class="n">d2</span><span class="p">,</span> <span class="o">.</span><span class="n">f1</span><span class="p">]</span><span class="o">.</span><span class="nf">moves</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="o">.</span><span class="n">a6</span><span class="p">))</span>
<span class="c1">// [c3 &gt;&gt;&gt; a6, d2 &gt;&gt;&gt; a6, f1 &gt;&gt;&gt; a6]</span>

<span class="nf">print</span><span class="p">(</span><span class="kt">Square</span><span class="o">.</span><span class="n">d4</span><span class="o">.</span><span class="nf">moves</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span> <span class="o">.</span><span class="n">f8</span><span class="p">,</span> <span class="o">.</span><span class="n">h2</span><span class="p">]))</span>
<span class="c1">// [c2 &gt;&gt;&gt; d4, f8 &gt;&gt;&gt; d4, h2 &gt;&gt;&gt; d4]</span>

<span class="nf">print</span><span class="p">(</span><span class="kt">Square</span><span class="o">.</span><span class="n">a4</span><span class="o">.</span><span class="nf">moves</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">c3</span><span class="p">,</span> <span class="o">.</span><span class="n">d4</span><span class="p">,</span> <span class="o">.</span><span class="n">f6</span><span class="p">]))</span>
<span class="c1">// [a4 &gt;&gt;&gt; c3, a4 &gt;&gt;&gt; d4, a4 &gt;&gt;&gt; f6]</span>
</code></pre>
<a href='#playground-usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='playground-usage'>Playground Usage</h3>

<p>To use <code>Sage.playground</code>, first open <code>Sage.xcodeproj</code> and build the OS X target.
You can then use the playground from within the project.</p>
<a href='#board-quick-look' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h4 id='board-quick-look'>Board Quick Look</h4>

<p><code>Board</code> conforms to the <code>CustomPlaygroundQuickLookable</code> protocol.</p>

<p><img src="https://raw.githubusercontent.com/nvzqz/Sage/assets/BoardPlaygroundView.png" alt="Playground quick look"></p>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>Sage is published under <a href="https://www.apache.org/licenses/LICENSE-2.0">version 2.0 of the Apache License</a>.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2016 <a class="link" href="https://github.com/nvzqz" target="_blank" rel="external">Nikolai Vazquez</a>. All rights reserved. (Last updated: 2016-07-25)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
